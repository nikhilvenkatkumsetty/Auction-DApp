<!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <title>Bidder</title>

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

</head>

<style>

    .abc {
        width:100%;
        height:100%;
        opacity:.95;
        top:0;
        left:0;
        display:none;
        position:fixed;
        background-color:#313131;
        overflow:auto
    }

	.x{
        position: absolute;
        top: 50px;
        right: 497px;
        width: 40px;
        height: 40px;
        background: #efefef;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
        line-height: 40px;
        text-align: center;
        cursor: pointer;
	}

    #loading {
        border: 2px solid #f3f3f3; /* Light grey */
        border-top: 2px solid #3498db; /* Blue */
        border-radius: 50%;
        width: 25px;
        height: 25px;
        animation: spin 2s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>

<body>

    <div style="margin-top:20px; width: 650px;" class="container card w3-section">

        <span><b>Address: </b><font id="account" size=2></font></span>
        <span><b>Username: </b><font id="username" size=2><%=currentUser.username%></font></span>      

        <hr>
    
        <center style="margin-bottom:10px;">
            <button class="w3-button w3-green" style="width:150px;" onclick="showAllTenders();">Make a Bid</button>
            <button class="w3-button w3-blue" style="width:150px;" onclick="showBids();">My Bids</button><br>
            <!-- <button class="w3-button w3-red" style="width:150px;" onclick="showBids();">Show all Bids</button><br> -->
            <font size=1 color="blue" style="cursor: pointer;" onclick="location.href='/logout'">Not you? Logout here.</font>
        </center>

    </div>  
   
    <div id="listAllTenders" style="margin-top:20px; display: none" class="container card"> 

        <table id="allTenders" class="table table-hover">
            <center>
                <h6><b>All Tenders</b></h6>
            </center>
            <hr style="margin-top: -5px; margin-bottom: -1px;">
            <tr style="text-align:center; overflow-wrap: break-word;">
                <td><b>Id</b></td>
                <td><b>Tender name</b></td>
                <td><b>Tender Description</b></td>
                <td><b>Quantity</b></td>
                <td><b>Tender Issuer</b></td>
                <td><b>Bid Here</b></td>
            </tr>
        </table>
        
    </div>

    <div id="bidList" style="margin-top:20px; display:none" class="container card">

        <table id="myBids" class="table table-hover">
            <center>
                <h6><b>My Bids</b></h6>
            </center>
            <hr style="margin-top: -5px; margin-bottom: -1px;">
            <tr style="text-align:center">
                <td><b>Id</b></td>
                <td><b>Tender name</b></td>
                <td><b>Bid per Item</b></td>
                <td><b>Bid Status</b></td>
            </tr>
        </table>

    </div>
    <br>

    <div id="tenderPopup"></div>

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" language="javascript" src="truffle-contract.js"></script>
<script language="javascript" type="text/javascript" src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.34/dist/web3.js"></script>
<script type="text/javascript" language="javascript" src="loadEthereum.js"></script>
<script type="text/javascript" language="javascript" src="bidderDashboard.js"></script>

</html>